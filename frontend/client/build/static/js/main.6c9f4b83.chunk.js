(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,n){},121:function(e,n){},123:function(e,n){},135:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(15),o=t(64),i=t.n(o),l=(t(73),t(9)),s=t(1),m=t(35),u=t.n(m),d=t(36),f=t.n(d),v=(t(62),t(63),t(25)),b=t(26),E=t(19);function p(){var e=Object(b.a)(["\n  width: 70%;\n  border: 2px solid black;\n  transform: rotateY(180deg);\n  /* safari an chrome */\n  -webkit-transform: rotateY(180deg);\n  /* Firefox */\n  -moz-transform: rotateY(180deg)\n"]);return p=function(){return e},e}function g(){var e=Object(b.a)(["\n\n"]);return g=function(){return e},e}function h(){var e=Object(b.a)(["\n display: flex\n"]);return h=function(){return e},e}var O=E.a.div(h()),j=E.a.div(g()),w=E.a.video(p()),N=function(e){var n=u()(),t=Object(a.useRef)(),c=Object(a.useRef)(),o={};return Object(a.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){function a(n){var t=new f.a({initiator:"init"===n,stream:e});return t.on("error",(function(e){console.log(e)})),t.on("stream",(function(e){!function(e){c.current.srcObject=e}(e)})),t.on("close",(function(){c.connect.srcObject=null,t.destroy()})),t}n.emit("NewClient"),t.current.srcObject=e,n.on("BackOffer",(function(e){var t=a("notinit");t.on("signal",(function(e){n.emit("Answer",e)})),t.signal(e)})),n.on("BackAnswer",(function(e){o.gotAnswer=!0,o.peer.signal(e)})),n.on("SessionActive",(function(){console.log("session active. please come back later")})),n.on("CreatePeer",(function(){o.gotAnswer=!1;var e=a("init");e.on("signal",(function(e){o.gotAnswer||n.emit("Offer",e)})),o.peer=e})),n.on("RemoveVideo",(function(){c.connect.srcObject=null,n.emit("Disconnect")}))})).catch((function(e){console.log("swag",e)}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement(O,{className:"row"},r.a.createElement(j,null,r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"embed-responsive"},r.a.createElement(w,{ref:t,className:"embed-responsive-item",muted:!0,autoPlay:!0}))),r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"embed-responsive"},r.a.createElement(w,{ref:c,className:"embed-responsive-item",autoPlay:!0})))),r.a.createElement(j,null,r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"embed-responsive"},r.a.createElement(w,{className:"embed-responsive-item",autoPlay:!0}))),r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"embed-responsive"},r.a.createElement(w,{className:"embed-responsive-item",autoPlay:!0})))))))};var k=function(e){var n=e.handleChange,t=Object(a.useState)(!0),o=Object(l.a)(t,2),i=o[0],s=o[1],m=Object(a.useState)(!0),u=Object(l.a)(m,2),d=u[0],f=u[1];return r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome to some Video Peer-to-Peer App"),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return s(!i)}},"create room"),r.a.createElement("input",{onChange:n,placeholder:"enter id for new room",hidden:i}),r.a.createElement(c.b,{to:"/call",hidden:i},r.a.createElement(v.a,null))),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return f(!d)}},"join room"),r.a.createElement("input",{onChange:n,placeholder:"enter id for new room",hidden:d}),r.a.createElement(c.b,{hidden:d},r.a.createElement(v.a,null))))};var A=function(){var e=Object(a.useState)(!0),n=Object(l.a)(e,2),t=(n[0],n[1],Object(a.useState)(!0)),c=Object(l.a)(t,2),o=(c[0],c[1],Object(a.useState)("")),i=Object(l.a)(o,2),m=i[0],u=i[1],d=function(e){u(e.target.value),console.log(m)};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement(s.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(k,Object.assign({},e,{handleChange:d}))}}),r.a.createElement(s.a,{exact:!0,path:"/call",render:function(e){return r.a.createElement(N,Object.assign({},e,{inputFeild:m}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,null,r.a.createElement(A,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,n,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},63:function(e,n,t){},68:function(e,n,t){e.exports=t(135)},73:function(e,n,t){}},[[68,1,2]]]);
//# sourceMappingURL=main.6c9f4b83.chunk.js.map