(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t){},125:function(e,t){},127:function(e,t){},137:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=137},142:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(15),r=n(65),i=n.n(r),l=(n(76),n(8)),s=n(1),m=n(34),u=n.n(m),d=(n(108),n(61),n(62),n(35)),f=n(66),v=n(25),E=n(67),b=n.n(E),p=n(19);function h(){var e=Object(v.a)(["\n  width: 70%;\n  border: 2px solid black;\n  transform: rotateY(180deg);\n  /* safari an chrome */\n  -webkit-transform: rotateY(180deg);\n  /* Firefox */\n  -moz-transform: rotateY(180deg)\n"]);return h=function(){return e},e}function O(){var e=Object(v.a)(["\n\n"]);return O=function(){return e},e}function j(){var e=Object(v.a)(["\n display: flex\n"]);return j=function(){return e},e}var g=p.a.div(j()),N=p.a.div(O()),w=p.a.video(h()),k=function(e){var t=u()(),n=Object(a.useRef)(),c=Object(a.useRef)(),r={};return Object(a.useEffect)((function(){var a=new b.a;console.log(a.call()),a.on("open",(function(n){t.emit("joinRoom",e.roomId,a.id)})),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){function o(e,t){e.current.srcObject=t}o(n,e),a.on("call",(function(t){t.answer(e),t.on("stream",(function(e){o(c,e)}))})),t.on("userConnected",(function(t){!function(e,t){var n=a.call(e,t);n.on("stream",(function(e){o(c,e)})),n.on("close",(function(){c=""})),r[e]=n}(t,e)})),t.on("userDisconnected",(function(e){r[e]&&r[e].close()}))})).catch((function(e){console.log("swag",e)}))}),[]),o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-header"},o.a.createElement(g,{className:"row"},o.a.createElement(N,null,o.a.createElement("div",{className:"video-container"},o.a.createElement("div",{className:"embed-responsive"},o.a.createElement(w,{ref:n,className:"embed-responsive-item",muted:!0,autoPlay:!0}))),o.a.createElement("div",{className:"video-container"},o.a.createElement("div",{className:"embed-responsive"},o.a.createElement(w,{ref:c,className:"embed-responsive-item",autoPlay:!0})))),o.a.createElement(N,null,o.a.createElement("div",{className:"video-container"},o.a.createElement("div",{className:"embed-responsive"},o.a.createElement(w,{className:"embed-responsive-item",autoPlay:!0}))),o.a.createElement("div",{className:"video-container"},o.a.createElement("div",{className:"embed-responsive"},o.a.createElement(w,{className:"embed-responsive-item",autoPlay:!0})))))))};var y=function(e){var t=e.handleChange,n=(e.handleRoomUrl,e.roomId),r=e.setRoomId,i=e.inputFeild,s=Object(a.useState)(!0),m=Object(l.a)(s,2),u=m[0],v=m[1],E=Object(a.useState)(!0),b=Object(l.a)(E,2),p=b[0],h=b[1];return Object(a.useEffect)((function(){r(Object(f.v4)())}),[]),o.a.createElement("div",null,o.a.createElement("h2",null,"Welcome to some Video Peer-to-Peer App"),o.a.createElement("div",null,o.a.createElement(c.b,{to:"/call/".concat(n)},o.a.createElement("button",{onClick:function(){v(!u)}},"create room"))),o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return h(!p)}},"join room"),o.a.createElement("input",{onChange:t,placeholder:"Enter room id",hidden:p}),o.a.createElement(c.b,{to:"/call/".concat(i),hidden:p},o.a.createElement(d.a,null))))};var I=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=(t[1],Object(a.useState)(!0)),r=Object(l.a)(c,2),i=(r[0],r[1],Object(a.useState)("")),m=Object(l.a)(i,2),u=m[0],d=m[1],f=Object(a.useState)(""),v=Object(l.a)(f,2),E=v[0],b=v[1],p=function(e){d(e.target.value),console.log(u)};return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-header"},o.a.createElement(s.a,{exact:!0,path:"/",render:function(e){return o.a.createElement(y,Object.assign({},e,{createInput:n,roomId:E,setRoomId:b,handleChange:p,inputFeild:u}))}}),o.a.createElement(s.a,{path:"/call",render:function(e){return o.a.createElement(k,Object.assign({},e,{inputFeild:u,roomId:u||E}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(c.a,null,o.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},62:function(e,t,n){},71:function(e,t,n){e.exports=n(142)},76:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.dc9dc219.chunk.js.map